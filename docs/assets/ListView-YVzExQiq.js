import{g as ne,p as ae,t as z,u as ie,c as a,w as j,v as te,a as l,n as le,b as K,M as Se,m as Be,d as ce,V as Te,e as pe,f as Le,h as Re,i as Ne,j as $e,k as F,r as M,l as Ae,o as Ee,q as De,L as Me,s as Ue,F as R,x as ee,y as Oe,z as We,A as qe,E as oe,I as re,B as ze,C as je,D as me,G as Ke,H as He,J as Xe,K as J,N as Ye,_ as Ge,O as Je,P as Qe,Q as ye,R as Ze,S as W,T as et,U as I,W as tt,X as lt,Y as nt,Z as at,$ as L,a0 as xe,a1 as D,a2 as be,a3 as ue,a4 as Q}from"./index-CSCxB_xk.js";import{V as it,m as st,u as ke,a as ot,b as he,f as rt,c as ut}from"./forwardRefs-DULAvtt_.js";import{V as ge}from"./VTable-Dbh-aC_s.js";class de{constructor(o){let{x:u,y:n,width:t,height:r}=o;this.x=u,this.y=n,this.width=t,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function dt(e){const o=e.getBoundingClientRect(),u=getComputedStyle(e),n=u.transform;if(n){let t,r,c,b,x;if(n.startsWith("matrix3d("))t=n.slice(9,-1).split(/, /),r=Number(t[0]),c=Number(t[5]),b=Number(t[12]),x=Number(t[13]);else if(n.startsWith("matrix("))t=n.slice(7,-1).split(/, /),r=Number(t[0]),c=Number(t[3]),b=Number(t[4]),x=Number(t[5]);else return new de(o);const f=u.transformOrigin,i=o.x-b-(1-r)*parseFloat(f),s=o.y-x-(1-c)*parseFloat(f.slice(f.indexOf(" ")+1)),P=r?o.width/r:e.offsetWidth+1,v=c?o.height/c:e.offsetHeight+1;return new de({x:i,y:s,width:P,height:v})}else return new de(o)}function ct(e,o,u){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(o,u)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(t=>{n.onfinish=()=>{t(n)}})),n}const ft="cubic-bezier(0.4, 0, 0.2, 1)",vt=ae({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ce(),...Be({transition:{component:Te}})},"VCounter"),mt=ne()({name:"VCounter",functional:!0,props:vt(),setup(e,o){let{slots:u}=o;const n=z(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ie(()=>a(Se,{transition:e.transition},{default:()=>[j(l("div",{class:K(["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class]),style:le(e.style)},[u.default?u.default({counter:n.value,max:e.max,value:e.value}):n.value]),[[te,e.active]])]})),{}}}),yt=ae({floating:Boolean,...ce()},"VFieldLabel"),Z=ne()({name:"VFieldLabel",props:yt(),setup(e,o){let{slots:u}=o;return ie(()=>a(it,{class:K(["v-field-label",{"v-field-label--floating":e.floating},e.class]),style:le(e.style)},u)),{}}}),xt=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],_e=ae({appendInnerIcon:re,bgColor:String,clearable:Boolean,clearIcon:{type:re,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,details:Boolean,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:re,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>xt.includes(e)},"onClick:clear":oe(),"onClick:appendInner":oe(),"onClick:prependInner":oe(),...ce(),...qe(),...We(),...Oe()},"VField"),Ce=ne()({name:"VField",inheritAttrs:!1,props:{id:String,...st(),..._e()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:u,emit:n,slots:t}=o;const{themeClasses:r}=pe(e),{loaderClasses:c}=Le(e),{focusClasses:b,isFocused:x,focus:f,blur:i}=ke(e),{InputIcon:s}=ot(e),{roundedClasses:P}=Re(e),{rtlClasses:v}=Ne(),h=z(()=>e.dirty||e.active),S=z(()=>!!(e.label||t.label)),U=z(()=>!e.singleLine&&S.value),q=$e(),g=F(()=>e.id||`input-${q}`),H=z(()=>e.details?`${g.value}-messages`:void 0),X=M(),O=M(),d=M(),m=F(()=>["plain","underlined"].includes(e.variant)),N=F(()=>e.error||e.disabled?void 0:h.value&&x.value?e.color:e.baseColor),B=F(()=>{if(!(!e.iconColor||e.glow&&!x.value))return e.iconColor===!0?N.value:e.iconColor}),{backgroundColorClasses:fe,backgroundColorStyles:se}=Ae(()=>e.bgColor),{textColorClasses:Y,textColorStyles:T}=Ee(N);De(h,k=>{if(U.value){const V=X.value.$el,_=O.value.$el;requestAnimationFrame(()=>{const w=dt(V),y=_.getBoundingClientRect(),p=y.x-w.x,$=y.y-w.y-(w.height/2-y.height/2),A=y.width/.75,E=Math.abs(A-w.width)>1?{maxWidth:ze(A)}:void 0,we=getComputedStyle(V),ve=getComputedStyle(_),Ie=parseFloat(we.transitionDuration)*1e3||150,Fe=parseFloat(ve.getPropertyValue("--v-field-label-scale")),Pe=ve.getPropertyValue("color");V.style.visibility="visible",_.style.visibility="hidden",ct(V,{transform:`translate(${p}px, ${$}px) scale(${Fe})`,color:Pe,...E},{duration:Ie,easing:ft,direction:k?"normal":"reverse"}).finished.then(()=>{V.style.removeProperty("visibility"),_.style.removeProperty("visibility")})})}},{flush:"post"});const C=F(()=>({isActive:h,isFocused:x,controlRef:d,blur:i,focus:f}));function G(k){k.target!==document.activeElement&&k.preventDefault()}return ie(()=>{var p,$,A;const k=e.variant==="outlined",V=!!(t["prepend-inner"]||e.prependInnerIcon),_=!!(e.clearable||t.clear)&&!e.disabled,w=!!(t["append-inner"]||e.appendInnerIcon||_),y=()=>t.label?t.label({...C.value,label:e.label,props:{for:g.value}}):e.label;return l("div",ee({class:["v-field",{"v-field--active":h.value,"v-field--appended":w,"v-field--center-affix":e.centerAffix??!m.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":V,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!y(),[`v-field--variant-${e.variant}`]:!0},r.value,fe.value,b.value,c.value,P.value,v.value,e.class],style:[se.value,e.style],onClick:G},u),[l("div",{class:"v-field__overlay"},null),a(Me,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:t.loader}),V&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(s,{key:"prepend-icon",name:"prependInner",color:B.value},null),(p=t["prepend-inner"])==null?void 0:p.call(t,C.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&U.value&&a(Z,{key:"floating-label",ref:O,class:K([Y.value]),floating:!0,for:g.value,"aria-hidden":!h.value,style:le(T.value)},{default:()=>[y()]}),S.value&&a(Z,{key:"label",ref:X,for:g.value},{default:()=>[y()]}),(($=t.default)==null?void 0:$.call(t,{...C.value,props:{id:g.value,class:"v-field__input","aria-describedby":H.value},focus:f,blur:i}))??l("div",{id:g.value,class:"v-field__input","aria-describedby":H.value},null)]),_&&a(Ue,{key:"clear"},{default:()=>[j(l("div",{class:"v-field__clearable",onMousedown:E=>{E.preventDefault(),E.stopPropagation()}},[a(je,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[t.clear?t.clear({...C.value,props:{onFocus:f,onBlur:i,onClick:e["onClick:clear"],tabindex:-1}}):a(s,{name:"clear",onFocus:f,onBlur:i,tabindex:-1},null)]})]),[[te,e.dirty]])]}),w&&l("div",{key:"append",class:"v-field__append-inner"},[(A=t["append-inner"])==null?void 0:A.call(t,C.value),e.appendInnerIcon&&a(s,{key:"append-icon",name:"appendInner",color:B.value},null)]),l("div",{class:K(["v-field__outline",Y.value]),style:le(T.value)},[k&&l(R,null,[l("div",{class:"v-field__outline__start"},null),U.value&&l("div",{class:"v-field__outline__notch"},[a(Z,{ref:O,floating:!0,for:g.value,"aria-hidden":!h.value},{default:()=>[y()]})]),l("div",{class:"v-field__outline__end"},null)]),m.value&&U.value&&a(Z,{ref:O,floating:!0,for:g.value,"aria-hidden":!h.value},{default:()=>[y()]})])])}),{controlRef:d,fieldIconColor:B}}});function bt(e){function o(u,n){var t,r;!e.autofocus||!u||(r=(t=n[0].target)==null?void 0:t.focus)==null||r.call(t)}return{onIntersect:o}}const ht=["color","file","time","date","datetime-local","week","month"],gt=ae({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...ut(),..._e()},"VTextField"),Ve=ne()({name:"VTextField",directives:{vIntersect:me},inheritAttrs:!1,props:gt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,o){let{attrs:u,emit:n,slots:t}=o;const r=Ke(e,"modelValue"),{isFocused:c,focus:b,blur:x}=ke(e),{onIntersect:f}=bt(e),i=F(()=>typeof e.counterValue=="function"?e.counterValue(r.value):typeof e.counterValue=="number"?e.counterValue:(r.value??"").toString().length),s=F(()=>{if(u.maxlength)return u.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),P=F(()=>["plain","underlined"].includes(e.variant)),v=M(),h=M(),S=M(),U=F(()=>ht.includes(e.type)||e.persistentPlaceholder||c.value||e.active);function q(){c.value||b(),J(()=>{S.value!==document.activeElement&&J(()=>{var d;return(d=S.value)==null?void 0:d.focus()})})}function g(d){n("mousedown:control",d),d.target!==S.value&&(q(),d.preventDefault())}function H(d){n("click:control",d)}function X(d,m){d.stopPropagation(),q(),J(()=>{r.value=null,m(),Ye(e["onClick:clear"],d)})}function O(d){var N;const m=d.target;if(r.value=m.value,(N=e.modelModifiers)!=null&&N.trim&&["text","search","password","tel","url"].includes(e.type)){const B=[m.selectionStart,m.selectionEnd];J(()=>{m.selectionStart=B[0],m.selectionEnd=B[1]})}}return ie(()=>{const d=!!(t.counter||e.counter!==!1&&e.counter!=null),m=!!(d||t.details),[N,B]=He(u),{modelValue:fe,...se}=he.filterProps(e),Y=Ce.filterProps(e);return a(he,ee({ref:v,modelValue:r.value,"onUpdate:modelValue":T=>r.value=T,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":P.value},e.class],style:e.style},N,se,{centerAffix:!P.value,focused:c.value}),{...t,default:T=>{let{id:C,isDisabled:G,isDirty:k,isReadonly:V,isValid:_,hasDetails:w,reset:y}=T;return a(Ce,ee({ref:h,onMousedown:g,onClick:H,"onClick:clear":p=>X(p,y),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},Y,{id:C.value,active:U.value||k.value,dirty:k.value||e.dirty,disabled:G.value,focused:c.value,details:w.value,error:_.value===!1}),{...t,default:p=>{let{props:{class:$,...A}}=p;const E=j(l("input",ee({ref:S,value:r.value,onInput:O,autofocus:e.autofocus,readonly:V.value,disabled:G.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:q,onBlur:x},A,B),null),[[me,{handler:f},null,{once:!0}]]);return l(R,null,[e.prefix&&l("span",{class:"v-text-field__prefix"},[l("span",{class:"v-text-field__prefix__text"},[e.prefix])]),t.default?l("div",{class:K($),"data-no-activator":""},[t.default(),E]):Xe(E,{class:$}),e.suffix&&l("span",{class:"v-text-field__suffix"},[l("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:m?T=>{var C;return l(R,null,[(C=t.details)==null?void 0:C.call(t,T),d&&l(R,null,[l("span",null,null),a(mt,{active:e.persistentCounter||c.value,value:i.value,max:s.value,disabled:e.disabled},t.counter)])])}:void 0})}),rt({},v,h,S)}}),Ct={key:0},Vt={key:0},kt={class:"white--text"},_t={class:"white--text"},wt={__name:"ListView",setup(e){const o=M(""),u=Je(),n=Qe(),t=ye("inputTextField"),r=ye("editTextField"),c={required:f=>!!f||"必填",length:f=>f.length>=3||"必須要三個字以上"},b=()=>{t.value.isValid&&(n.addItem(o.value),t.value.reset())},x=(f,i)=>{r.value[i].isValid&&n.submitEdit(f)};return(f,i)=>(I(),Ze(et,{class:"starry-bg pa-6",fluid:""},{default:W(()=>[a(tt,{justify:"center"},{default:W(()=>[a(lt,{cols:"12",md:"8"},{default:W(()=>[a(nt,{class:"starry-card pa-6",elevation:"10"},{default:W(()=>[i[5]||(i[5]=l("h1",{class:"title yellow--text text-center mb-6"},"未完成事項",-1)),a(Ve,{ref_key:"inputTextField",ref:t,modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=s=>o.value=s),"append-icon":"mdi-plus",clearable:"",label:"新增事項",rules:[c.required,c.length],"onClick:append":b,onKeydown:at(b,["enter"]),class:"starry-input mb-4"},null,8,["modelValue","rules"]),a(ge,{class:"starry-table mb-6"},{default:W(()=>[i[2]||(i[2]=l("thead",null,[l("tr",null,[l("th",{class:"white--text"},"事項"),l("th",{class:"white--text"},"操作")])],-1)),l("tbody",null,[D(n).items.length===0?(I(),L("tr",Ct,i[1]||(i[1]=[l("td",{colspan:"2",class:"text-center white--text"},"沒有項目",-1)]))):xe("",!0),(I(!0),L(R,null,be(D(n).items,(s,P)=>(I(),L("tr",{key:s.id},[l("td",null,[j(a(Ve,{ref_for:!0,ref_key:"editTextField",ref:r,modelValue:s.model,"onUpdate:modelValue":v=>s.model=v,autofocus:"",rules:[c.required,c.length],class:"starry-input"},null,8,["modelValue","onUpdate:modelValue","rules"]),[[te,s.edit]]),j(l("span",{class:"white--text"},ue(s.text),513),[[te,!s.edit]])]),l("td",null,[s.edit?(I(),L(R,{key:0},[a(Q,{icon:"mdi-check",class:"starry-btn mx-1",onClick:v=>x(s.id,P)},null,8,["onClick"]),a(Q,{icon:"mdi-undo",class:"starry-btn mx-1",onClick:v=>D(n).cancelEdit(s.id)},null,8,["onClick"])],64)):(I(),L(R,{key:1},[a(Q,{icon:"mdi-pencil",class:"starry-btn mx-1",onClick:v=>D(n).editItem(s.id)},null,8,["onClick"]),a(Q,{icon:"mdi-delete",class:"starry-btn mx-1",onClick:v=>D(n).delItem(s.id)},null,8,["onClick"])],64))])]))),128))])]),_:1,__:[2]}),i[6]||(i[6]=l("h1",{class:"title yellow--text text-center mt-8"},"已完成事項",-1)),a(ge,{class:"starry-table"},{default:W(()=>[i[4]||(i[4]=l("thead",null,[l("tr",null,[l("th",{class:"white--text"},"事項"),l("th",{class:"white--text"},"完成時間")])],-1)),l("tbody",null,[D(u).items.length===0?(I(),L("tr",Vt,i[3]||(i[3]=[l("td",{colspan:"2",class:"text-center white--text"},"尚未有完成的事項",-1)]))):xe("",!0),(I(!0),L(R,null,be(D(u).items,s=>(I(),L("tr",{key:s.id},[l("td",kt,ue(s.text),1),l("td",_t,ue(s.completedAt),1)]))),128))])]),_:1,__:[4]})]),_:1,__:[5,6]})]),_:1})]),_:1})]),_:1}))}},St=Ge(wt,[["__scopeId","data-v-974b7039"]]);export{St as default};
